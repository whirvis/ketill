import org.gradle.internal.os.OperatingSystem

ext.isGLFWProject = { Project project ->
    return project.name.toLowerCase().startsWith("glfw")
}

ext.glfwSetup = { Project project ->
    /* DO NOT EDIT THIS BLOCK: it is generated by LWJGL -------------------- */
    project.ext.lwjglVersion = "3.3.0"

    switch (OperatingSystem.current()) {
        case OperatingSystem.LINUX:
            def osArch = System.getProperty("os.arch")
            project.ext.lwjglNatives = osArch.startsWith("arm") || osArch.startsWith("aarch64") ? "natives-linux-${osArch.contains("64") || osArch.startsWith("armv8") ? "arm64" : "arm32"}" : "natives-linux"
            break
        case OperatingSystem.MAC_OS:
            project.ext.lwjglNatives = System.getProperty("os.arch").startsWith("aarch64") ? "natives-macos-arm64" : "natives-macos"
            break
        case OperatingSystem.WINDOWS:
            def osArch = System.getProperty("os.arch")
            project.ext.lwjglNatives = osArch.contains("64") ? "natives-windows${osArch.startsWith("aarch64") ? "-arm64" : ""}" : "natives-windows-x86"
            break
    }
    /* --------------------------------------------------------------------- */
}
